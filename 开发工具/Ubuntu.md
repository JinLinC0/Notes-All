# `Ubuntu`

## 基本概念

`Ubuntu`是一款基于 `Debian` 的开源操作系统，广泛应用于桌面、服务器和云计算环境。它以用户友好、稳定和安全著称，适合个人和企业使用，该系统的命令行操作非常的方便，在大型项目的开发和项目的运维部署中都需要解除到`Ububtu`，了解其基本按照和使用是非常有必要的

`Linux`系统介绍：一开始是使用`BCPL`语音编写-->`new B`语言（前两者都是汇编语言）-->`C`语言-->`UNIX`操作系统（稳定、安全可靠，多用于计费系统、通信系统和军事系统）-->`Minix`操作系统（基于`UNIX`操作系统核心功能的提取）-->`Linux`操作系统（内核版本）

`Linux`因为其管理硬盘（文件）的能力非常强大，一般不会分盘，所以我们只能看到一个分区，即根目录



## 安装系统

按照`22.04`版本的`Ubuntu`系统：

1. 下载镜像源（推荐下载长期支持版本`LTS`(稳定版)）

2. 将`ISO`镜像刻成U盘，通过U盘进行安装

   > 我们可以下载刻录工具进行镜像盘的制作
   >
   > 常见的刻录工具有：`Rufus`和`UltraISO`
   >
   > - 使用`UltraISO`将镜像刻录到U盘：
   >   1. 下载并启动`UltraISO`
   >   2. 点击“文件” > “打开”，选择你下载的`Ubuntu ISO`文件
   >   3. 在菜单栏点击“启动” > “写入硬盘映像”
   >   4. 电脑插上光盘【硬盘驱动器】会显示U盘的名称，点击"格式化"格式化硬盘->点击"写入"等待刻录完成
   > - 使用`Rufus`将镜像刻录到U盘：
   >   1. 下载并启动`Rufus`
   >   2. 从「设备」下拉菜单中选择你的 U 盘，「选择」`Ubuntu ISO` 文件
   >   3. 保持其他默认设置不变，点击「开始」

3. 在电脑中安装或者在虚拟机中安装

   > 在虚拟机设置配置中我们需要注意：以下改进可以提高`Ubuntu`的运行速度：
   >
   > - 内存建议`8G`以上，硬盘可以尽可能分配大一点`40G`以上
   > - 在系统设置中，将CPU的处理器数量调成4以上；在启动顺序中将软驱取消勾选
   > - 在显示设置中，将显存大小调成`128MB`；硬件加速中启用`3D`加速

***

### 安装问题

- 通过虚拟机安装时出现显示分辨率过小的问题

  我们可以选择虚拟机软件中的设备->安装增强功能，这时我们的虚拟机中就会有一个光盘，我们点击运行光盘，这样系统就会安装一些软件，将我们的虚拟机的分辨率和运行速度调整到最佳的状态
  
  如果找不到安装增强功能，我们可以使用以下的代码：
  
  - 建立光驱挂载目录：`sudo mkdir /mnt/cdrom`
  
  - 将光驱挂载到上面建立的挂载目录：`sudo mount /dev/sr0 /mnt/cdrom`
  
  - 切换到挂载目录：`d /mnt/cdrom/`
  
  - 安装增强功能：`sudo ./VBoxLinuxAdditions.run`
  
  - 重启系统：`reboot `
  
  安装完增强功能就可以调整虚拟显示屏的分辨率



## 更换软件源

在软件更新应用程序中将软件的镜像源进行手动的调整，通常可以调整为阿里云服务器

切换完之后，我们后续下载软件就会从这个服务器进行下载，但是这些软件源中并没有所有的软件，所以在安装特定软件的时候我们需要进行配置特定的源

软件源的更新：`sudo apt update`

软件的更新：`sudo apt upgrade`

一般换完源之后，软件的更新和下载速度就会比较快



## 软件安装

`Ubuntu`中软件的安装有以下的几种方式：

1. 在软件仓库应用程序中进行软件的搜索安装（有些软件可能会没有）

2. 去对应的软件官网进行下载`.deb`文件（如果这个软件没有`.deb`下载包，说明这个软件不能在`Ubuntu`系统上使用）

   在官网下载`.deb`安装包后，我们进入到这个安装包位置的终端中执行下面的命令进行安装：`sudo dpkg -i xxx.deb`

   > 有些开源项目下载下来的是`.tar.gz`的压缩包，我们需要进行解压后在安装：
   >
   > 解压：`tar zxvf xxx.tar.gz`
   >
   > 进入到解压后的文件夹中：`cd xxx/`
   >
   > 执行目录下的安装命令：`./Install`（有的是执行`.sh`文件，弹出安装指引窗口）

3. 对于某些软件，其官网没有提供`.deb`的安装包，我们想要该软件在`Ubuntu`中进行使用，我们就需要配置一个仓库，从仓库中将软件下载下来，使用`apt`来进行软件的安装

   > 比如安装`typora`软件：在命令行中依次输入：
   >
   > 1. `wget -q0 - https://typora.io/linux/public-key.asc | sudo apt-key add -`
   > 2. `sudo add-apt-repository 'deb https://typora.io/linux ./'`
   > 3. `sudo apt-get update`
   > 4. `sudo apt-get install typora`



## 重要目录

|   路径   |       名称        |                             描述                             |
| :------: | :---------------: | :----------------------------------------------------------: |
|   `/`    |      根目录       |              最顶层的目录，所有的文件都在它下面              |
|  `/bin`  |  根目录下的`bin`  | 存储系统命令的文件，一般存放终端命令执行文件，可以自己写一个终端命令放进去调用 |
| `/media` | 根目录下的`media` | 不同系统间的共享文件夹存放的位置，方便文件跨系统读取，用于存储外设的文件，如U盘文件、共享文件夹等。共享文件夹的路径：`/media/sf-share` |
| `/home`  | 根目录下的`home`  |    用户主目录（只属于这个用户的根目录），也可以使用~表示     |
|  `/usr`  |  根目录下的`usr`  | 用于存储系统的头文件，`/usr/include`：一般放置系统的头文件，如`C`语言的头文件就放在这里 |



## 常用命令

### 基本命令

- `cd`：进入某个文件夹中

  - `cd`后面什么都不加可以回到用户主目录~

  - 命令终端进入某个目录的操作：`cd 文件名/`   一般输入文件的开头，后面使用`TAB`进行补齐

  - 在某个目录下返回上一级目录：`cd ..`       `..`表示上一级目录；`.`表示当前目录；都是相对路径

    `Linux`目录解构是倒置树形，`cd`只能上下，不能左右

    绝对路径：以根目录开头描述一个路径，如：`/media/sf-share/jlc.txt`

    相对路径：以当前位置（工作目录）来描述一个路径

- `ls`：显示当前目录有哪些文件

  - `ls -a`：显示所有文件，包括隐藏文件

  - `ls -l`：以长格式显示文件的详情信息，所有信息包括：

    文件的相关权限，所有者的名字，组长名，文件大小（字节数），文件的最后修改时间，文件名

  - `ls -al`：一步到位全部显示

- `clear`：为终端进行清屏，或使用`ctrl+l`快捷键

- `pwd`：显示当前的绝对路径

- `whoami`：显示当前终端的用户名

***

### 文件相关命令

- `torch 文件名`：创建文件

- `rm 文件名`：删除文件，完全删除，不会在回收站出现

- `cat 文件名`：查看文件内容（不适合查看大型文件）（文件全部显示，要上下翻）

- `more 文件名`：查看文件（以命令行一页的形式呈现文件内容，空格下翻一页，回车下走一行，按`q`退出）从头开始显示，有内容百分之几提示

- `less 文件名`：查看文件内容（与`more`命令基本相同，但无进度显示可用上下方向键显示文件内容）`loss`加载快于`more`

- `head 文件名`：查看文件内容（只显示文件开头的前10行内容）

- `tail 文件名`：查看文件内容（只显示文件后面的10行内容）

- `cp stdio.h home/STDIO.h`：把当前目录下的`stdio.h`文件复制到`home`目录下并改名为`STDIO.h`，如果不加`STDIO.h`则不改名

- `mv stdio.h home/STDIO.h`：把当前目录下的`stdio.h`文件剪切到`home`目录下并改名为`STDIO.h`

  该命令同时具有重命名的功能：`mv 原文件名 新文件名`

- `chmod`：修改文件的权限

  - `chmod xxx 文件名`   （`x`为0~7的整数）  `x = r(4) + w(2) + x(1)`，分别表示读、写和执行，要想进入一个目录，必须保证有执行`x`的权限
  - `chmod +/-r 文件名`：给一个文件统一加上/减去读权限

- `find 位置（条件）（查询内容）`：找到文件的所在位置，如：`find / -name stdio.h`

- `grep "关键词" 文件名`：在文件中过滤出关键词，说明关键词在哪，列出关键词所在行，并将关键词标红

***

### 其他常用命令

- `sudo`：获取超级管理员权限，可以简写`su`，输入这个命令后再输入密码，即可进入超级管理员
- `sudo apt-get update`：更新软件源
- `sudo apt-get upgrade`：更新系统
- `sudo init 0`：关机
- `sudo reboot`：重启



## 配置`ssh`

在开发的过程中，经常需要在代码的拖放平台进行克隆和提交代码，我们需要在`Ubuntu`中配置`ssh`，与代码托管平台建立连接

- 在终端中运行：`ssh-keygen -t rsa -C "2794810071@qq.com"`     之后一直敲回车
- 进入`.ssh`文件中：`cd .ssh`，复制`id_rsa.pub`中的内容
- 将内容复制到在线代码托管平台的`SSH keys`中



## 常见技巧

### 美化界面

我们可以安装一些软件来帮助我们进行`Ubuntu`界面的美化：

1. `sudo apt-get install gnome-tweak-tool`
2. `sudo apt-get install gnome-shell-extensions`

***

### 快捷键

我们在开发的过程中，可以使用一些快捷键来加快我们的开发速率

- 屏幕分屏：按住`Window`键+方向左键，是当前打开的界面位于屏幕的左边，靠右对齐同理
- 在可视化界面隐藏\查看隐藏文件的快捷键：`ctrl+h`，在`Linux`中，以一个小点开头的文件是隐藏文件
- 为终端进行清屏：`ctrl+l`
- `up/down`方向键调出历史命令
- `Tab`自动补全系统命令、文件名
- `ctrl+alt+t`：快速打开新终端
- `ctrl+shift+t`：新建终端标签页，新标签直接从当前位置出发

